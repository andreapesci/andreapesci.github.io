---
import BaseLayout from '../layouts/BaseLayout.astro';
import '../styles/home.css';
import { getCollection } from 'astro:content';

// Carica tutti i progetti dalla collection
const projects = await getCollection('projects');
---

<BaseLayout title="Il Mio Portfolio" description="Portfolio professionale con progetti e competenze">
  <div class="hero">
    <h1>Benvenuto nel mio Portfolio</h1>
    <p>Esplora i miei progetti</p>
  </div>

  <div class="project-gallery">
    {projects.map(project => (
      <a href={`/${project.id}`} class="project-card">
        <img
          src={`/${project.id}/${project.data.image}`}
          alt={project.data.title}
          class="project-image"
        />
        <h3>{project.data.title}</h3>
      </a>
    ))}
  </div>
</BaseLayout>
