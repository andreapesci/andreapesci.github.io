---
import '../styles/global.css';
import '../styles/navbar.css';
import { getCollection } from 'astro:content';

// Carica tutti i progetti dalla collection
const projects = await getCollection('projects');
---

<nav class="navbar">
  <div class="nav-left">
    <a href="/" class="nav-link">Home</a>
    <a href="/about"  class="nav-link">About</a>
    <a href="/src/content/cv.md" download target="_blank" class="nav-link">Resume</a>
    <div class="dropdown">
      <button class="dropdown-btn">Projects</button>
      <div class="dropdown-content">
        {projects.map(project => (
          <a href={`/${project.id}`}>{project.data.title}</a>
        ))}
      </div>
    </div>
  </div>
  <div class="nav-right">
    <a href="https://linkedin.com/in/yourprofile" target="_blank" rel="noopener noreferrer" class="social-icon">
      <span class="icon">LinkedIn</span>
    </a>
    <a href="mailto:hello@andreapesci.com" class="social-icon">
      <span class="icon">Contact</span>
    </a>
  </div>
</nav>
